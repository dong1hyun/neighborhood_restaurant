{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11;import axios from\"axios\";import{motion}from\"framer-motion\";import{useEffect,useState}from\"react\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    min-height: 100vh;\\n    background-color: #f7f9fc;\\n    color: #333;\\n    padding: 60px 20px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    font-family: 'Arial', sans-serif;\\n\"])));const Title=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    font-size: 2.5rem;\\n    font-weight: 700;\\n    color: #2c3e50;\\n    margin-top: 100px;\\n\"])));const TitleDivider=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    border-bottom: 2px solid #bdc3c7;\\n    margin-top: 20px;\\n    margin-bottom: 40px;\\n    width: 350px;\\n\"])));const Divider=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    border-bottom: 1px solid #ecf0f1;\\n    width: 100%;\\n\"])));const QnAaddForm=styled.form(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    gap: 20px;\\n    width: 100%;\\n    max-width: 500px;\\n    margin: 30px 0;\\n    background-color: white;\\n    padding: 30px;\\n    border-radius: 10px;\\n    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\\n\"])));const QnAInput=styled.input(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    border: 1px solid #bdc3c7;\\n    padding: 10px;\\n    border-radius: 8px;\\n    font-size: 1rem;\\n    outline: none;\\n    transition: border-color 0.3s;\\n\\n    &:focus {\\n        border-color: #3498db;\\n    }\\n\"])));const QnADescription=styled.textarea(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    border: 1px solid #bdc3c7;\\n    padding: 10px;\\n    border-radius: 8px;\\n    font-size: 1rem;\\n    height: 150px;\\n    resize: none;\\n    outline: none;\\n    transition: border-color 0.3s;\\n\\n    &:focus {\\n        border-color: #3498db;\\n    }\\n\"])));const SubmitButton=styled.button(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    padding: 10px;\\n    background-color: #3e3e3e;\\n    color: white;\\n    font-size: 1rem;\\n    font-weight: 600;\\n    border: none;\\n    border-radius: 8px;\\n    cursor: pointer;\\n    transition: background-color 0.3s;\\n\\n    &:hover {\\n        background-color: #2980b9;\\n    }\\n\"])));const QnAContainer=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    gap: 15px;\\n    width: 100%;\\n    max-width: 600px;\\n\"])));const QnA=styled(motion.div)(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 15px 20px;\\n    background-color: #ffffff;\\n    border-radius: 8px;\\n    cursor: pointer;\\n    transition: background-color 0.3s, transform 0.3s;\\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\\n\\n    &:hover {\\n        background-color: #ecf0f1;\\n        transform: translateY(-2px);\\n    }\\n\"])));const CreatedDate=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n    color: #f39c12\\n\"])));export default function QnAList(){const navigate=useNavigate();const{register,handleSubmit,reset}=useForm();const[qnas,setQnA]=useState([]);const[isAdmin,setIsAdmin]=useState(false);const onValid=async data=>{await axios.post(\"/qna/add\",data);reset();fetchQnA();};const fetchQnA=async()=>{const response=await axios.get(\"/qna/list\");const qnas=response.data;setQnA(qnas);};const getAdmin=async()=>{const session=sessionStorage.getItem('sessionID');if(session){const admin=await axios.get('/admin',{params:{session}});if(admin.data.id===\"admin\"){setIsAdmin(true);}}};useEffect(()=>{fetchQnA();getAdmin();/* setQnA([{ id: 1, question: \"testdddd\", createdAt: new Date }, { id: 1, question: \"test\", createdAt: new Date }, { id: 1, question: \"test\", createdAt: new Date }, { id: 1, question: \"testdddd\", createdAt: new Date }, { id: 1, question: \"testdddd\", createdAt: new Date }, { id: 1, question: \"testdddd\", createdAt: new Date }]) */},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\uC790\\uC8FC \\uBB3B\\uB294 \\uC9C8\\uBB38\"}),/*#__PURE__*/_jsx(TitleDivider,{}),isAdmin?/*#__PURE__*/_jsxs(QnAaddForm,{onSubmit:handleSubmit(onValid),children:[/*#__PURE__*/_jsx(QnAInput,{...register(\"question\"),placeholder:\"\\uC81C\\uBAA9\",required:true}),/*#__PURE__*/_jsx(QnADescription,{...register(\"answer\"),placeholder:\"\\uB0B4\\uC6A9\",required:true}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",children:\"\\uC644\\uB8CC\"})]}):null,/*#__PURE__*/_jsx(QnAContainer,{children:qnas.map((qna,idx)=>/*#__PURE__*/_jsxs(\"div\",{children:[idx>0&&/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(QnA,{onClick:()=>navigate(\"/QnA_List/\".concat(qna.id)),whileHover:{color:\"#3498db\"},children:[/*#__PURE__*/_jsx(\"div\",{children:qna.question}),/*#__PURE__*/_jsx(CreatedDate,{children:new Date(qna.createdAt).toLocaleDateString()})]})]},qna.id))})]});}","map":{"version":3,"names":["axios","motion","useEffect","useState","useForm","useNavigate","styled","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Title","_templateObject2","TitleDivider","_templateObject3","Divider","_templateObject4","QnAaddForm","form","_templateObject5","QnAInput","input","_templateObject6","QnADescription","textarea","_templateObject7","SubmitButton","button","_templateObject8","QnAContainer","_templateObject9","QnA","_templateObject10","CreatedDate","_templateObject11","QnAList","navigate","register","handleSubmit","reset","qnas","setQnA","isAdmin","setIsAdmin","onValid","data","post","fetchQnA","response","get","getAdmin","session","sessionStorage","getItem","admin","params","id","children","onSubmit","placeholder","required","type","map","qna","idx","onClick","concat","whileHover","color","question","Date","createdAt","toLocaleDateString"],"sources":["C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/src/page/header/QnA_List.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    min-height: 100vh;\r\n    background-color: #f7f9fc;\r\n    color: #333;\r\n    padding: 60px 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    font-family: 'Arial', sans-serif;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 2.5rem;\r\n    font-weight: 700;\r\n    color: #2c3e50;\r\n    margin-top: 100px;\r\n`;\r\n\r\nconst TitleDivider = styled.div`\r\n    border-bottom: 2px solid #bdc3c7;\r\n    margin-top: 20px;\r\n    margin-bottom: 40px;\r\n    width: 350px;\r\n`;\r\n\r\nconst Divider = styled.div`\r\n    border-bottom: 1px solid #ecf0f1;\r\n    width: 100%;\r\n`;\r\n\r\nconst QnAaddForm = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 30px 0;\r\n    background-color: white;\r\n    padding: 30px;\r\n    border-radius: 10px;\r\n    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst QnAInput = styled.input`\r\n    border: 1px solid #bdc3c7;\r\n    padding: 10px;\r\n    border-radius: 8px;\r\n    font-size: 1rem;\r\n    outline: none;\r\n    transition: border-color 0.3s;\r\n\r\n    &:focus {\r\n        border-color: #3498db;\r\n    }\r\n`;\r\n\r\nconst QnADescription = styled.textarea`\r\n    border: 1px solid #bdc3c7;\r\n    padding: 10px;\r\n    border-radius: 8px;\r\n    font-size: 1rem;\r\n    height: 150px;\r\n    resize: none;\r\n    outline: none;\r\n    transition: border-color 0.3s;\r\n\r\n    &:focus {\r\n        border-color: #3498db;\r\n    }\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n    padding: 10px;\r\n    background-color: #3e3e3e;\r\n    color: white;\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n    border: none;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n\r\n    &:hover {\r\n        background-color: #2980b9;\r\n    }\r\n`;\r\n\r\nconst QnAContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 15px;\r\n    width: 100%;\r\n    max-width: 600px;\r\n`;\r\n\r\nconst QnA = styled(motion.div)`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 15px 20px;\r\n    background-color: #ffffff;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s, transform 0.3s;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\r\n\r\n    &:hover {\r\n        background-color: #ecf0f1;\r\n        transform: translateY(-2px);\r\n    }\r\n`;\r\n\r\nconst CreatedDate = styled.div`\r\n    color: #f39c12\r\n`\r\n\r\ninterface qnaForm {\r\n    question: string;\r\n    answer: string;\r\n}\r\n\r\ninterface NewQnAForm {\r\n    id: number;\r\n    question: string;\r\n    createdAt: Date;\r\n}\r\n\r\nexport default function QnAList() {\r\n    const navigate = useNavigate();\r\n    const { register, handleSubmit, reset } = useForm<qnaForm>();\r\n    const [qnas, setQnA] = useState<NewQnAForm[]>([]);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n    const onValid = async (data: qnaForm) => {\r\n        await axios.post(\"/qna/add\", data);\r\n        reset();\r\n        fetchQnA();\r\n    };\r\n\r\n    const fetchQnA = async () => {\r\n        const response = await axios.get(\"/qna/list\");\r\n        const qnas = response.data;\r\n        setQnA(qnas);\r\n    };\r\n\r\n    const getAdmin = async () => {\r\n        const session = sessionStorage.getItem('sessionID');\r\n        if (session) {\r\n            const admin = await axios.get('/admin', {\r\n                params: {\r\n                    session\r\n                }\r\n            });\r\n            if (admin.data.id === \"admin\") {\r\n                setIsAdmin(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchQnA();\r\n        getAdmin();\r\n        /* setQnA([{ id: 1, question: \"testdddd\", createdAt: new Date }, { id: 1, question: \"test\", createdAt: new Date }, { id: 1, question: \"test\", createdAt: new Date }, { id: 1, question: \"testdddd\", createdAt: new Date }, { id: 1, question: \"testdddd\", createdAt: new Date }, { id: 1, question: \"testdddd\", createdAt: new Date }]) */\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <Container>\r\n            <Title>자주 묻는 질문</Title>\r\n            <TitleDivider />\r\n            {\r\n                isAdmin ? <QnAaddForm onSubmit={handleSubmit(onValid)}>\r\n                    <QnAInput {...register(\"question\")} placeholder=\"제목\" required />\r\n                    <QnADescription {...register(\"answer\")} placeholder=\"내용\" required />\r\n                    <SubmitButton type=\"submit\">완료</SubmitButton>\r\n                </QnAaddForm>\r\n                    : null}\r\n            <QnAContainer>\r\n                {qnas.map((qna, idx) => (\r\n                    <div key={qna.id}>\r\n                        {idx > 0 && <Divider />}\r\n                        <QnA\r\n                            onClick={() => navigate(`/QnA_List/${qna.id}`)}\r\n                            whileHover={{ color: \"#3498db\" }}\r\n                        >\r\n                            <div>{qna.question}</div>\r\n                            <CreatedDate>{new Date(qna.createdAt).toLocaleDateString()}</CreatedDate>\r\n                        </QnA>\r\n                    </div>\r\n                ))}\r\n            </QnAContainer>\r\n        </Container>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}