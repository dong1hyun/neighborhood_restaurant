{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10;import axios from\"axios\";import{useEffect,useState}from\"react\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BoxContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    background-color: black;\\n    color: white;\\n    border-radius: 15px;\\n    height: 100%;\\n    width: 55%;\\n    margin: 0 auto;\\n    margin-bottom: 100px;\\n    @media screen and (max-width: 900px) {\\n        width: 90%;\\n    }\\n\"])));const PlaceContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: grid;\\n    grid-template-columns: repeat(2, 1fr);\\n    margin: 0 auto;\\n\"])));const PlaceBox=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    margin: 30px;\\n    background-color: white;\\n    width: 300px;\\n    height: 300px;\\n    background-size: cover;\\n    background-position: center center;\\n    color: black;\\n    @media screen and (max-width: 700px){\\n    }\\n\"])));const ReviewContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    border: solid 1px white;\\n    border-radius: 5px;\\n    margin: 20px;\\n    font-size: 30px;\\n    height: 100%;\\n\"])));const Title=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    font-size: 30px;\\n    margin: 20px;\\n\"])));const Rating=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    margin: 10px;\\n\"])));const Comment=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    margin: 10px;\\n\"])));const LocationForm=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    margin-bottom: 20px;\\n\"])));const LocationInput=styled.input(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    width: 300px;\\n    height: 30px;\\n    margin-right: 10px;\\n\"])));const GetLocationButton=styled.button(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n    background-color: white;\\n    color: black;\\n    border: none;\\n    padding: 8px 16px;\\n    border-radius: 5px;\\n    cursor: pointer;\\n\"])));function MyPage(){const[searchResult,setSearchResult]=useState('');const[sessionID,setSessionID]=useState('');const[userAddress,setUserAddress]=useState('');const[userLocation,setUserLocation]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[restaurantData,setRestaurantData]=useState([]);const[userReviews,setUserReviews]=useState([]);useEffect(()=>{const loggedInSessionID=sessionStorage.getItem('sessionID')+'';// 세션 스토리지에서 세션 아이디 가져오기\nsetSessionID(loggedInSessionID);getFavoriteData(loggedInSessionID);getReviewData(loggedInSessionID);},[]);const getFavoriteData=async sessionID=>{try{const response=await axios.get(\"/restaurant/\".concat(sessionID));if(response.data.restaurantData){setRestaurantData(response.data.restaurantData);}else{console.error('사용자의 즐겨찾기 정보를 가져오는데 실패했습니다.');}}catch(error){console.error('사용자 즐겨찾기 정보를 가져오는 중 오류가 발생했습니다:',error);}};const getReviewData=async sessionID=>{try{const response=await axios.get(\"/review/userReviews/\".concat(sessionID));if(response.data.success){setUserReviews(response.data.reviews);}else{console.error('사용자 리뷰를 가져오는데 실패했습니다.');}}catch(error){console.error('사용자 리뷰를 가져오는 중 오류가 발생했습니다:',error);}};return/*#__PURE__*/_jsxs(BoxContainer,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\uC990\\uACA8 \\uCC3E\\uB294 \\uC2DD\\uB2F9\"}),/*#__PURE__*/_jsx(PlaceContainer,{children:restaurantData.map((restaurant,index)=>/*#__PURE__*/_jsx(PlaceBox,{src:restaurant.img,alt:restaurant.restaurantName},index))}),/*#__PURE__*/_jsx(Title,{children:\"\\uB098\\uC758 \\uB9AC\\uBDF0\"}),userReviews.map((review,index)=>/*#__PURE__*/_jsxs(ReviewContainer,{children:[/*#__PURE__*/_jsxs(Rating,{children:[\"\\u2605 \",review.rating]}),/*#__PURE__*/_jsx(Comment,{children:review.comment})]},index))]});}export default MyPage;","map":{"version":3,"names":["axios","useEffect","useState","styled","jsx","_jsx","jsxs","_jsxs","BoxContainer","div","_templateObject","_taggedTemplateLiteral","PlaceContainer","_templateObject2","PlaceBox","img","_templateObject3","ReviewContainer","_templateObject4","Title","_templateObject5","Rating","_templateObject6","Comment","_templateObject7","LocationForm","_templateObject8","LocationInput","input","_templateObject9","GetLocationButton","button","_templateObject10","MyPage","searchResult","setSearchResult","sessionID","setSessionID","userAddress","setUserAddress","userLocation","setUserLocation","searchTerm","setSearchTerm","restaurantData","setRestaurantData","userReviews","setUserReviews","loggedInSessionID","sessionStorage","getItem","getFavoriteData","getReviewData","response","get","concat","data","console","error","success","reviews","children","map","restaurant","index","src","alt","restaurantName","review","rating","comment"],"sources":["C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/src/page/MyPage.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst BoxContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: black;\r\n    color: white;\r\n    border-radius: 15px;\r\n    height: 100%;\r\n    width: 55%;\r\n    margin: 0 auto;\r\n    margin-bottom: 100px;\r\n    @media screen and (max-width: 900px) {\r\n        width: 90%;\r\n    }\r\n`\r\n\r\nconst PlaceContainer = styled.div`\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    margin: 0 auto;\r\n`\r\n\r\nconst PlaceBox = styled.img`\r\n    margin: 30px;\r\n    background-color: white;\r\n    width: 300px;\r\n    height: 300px;\r\n    background-size: cover;\r\n    background-position: center center;\r\n    color: black;\r\n    @media screen and (max-width: 700px){\r\n    }\r\n`\r\n\r\nconst ReviewContainer = styled.div`\r\n    border: solid 1px white;\r\n    border-radius: 5px;\r\n    margin: 20px;\r\n    font-size: 30px;\r\n    height: 100%;\r\n`\r\n\r\nconst Title = styled.div`\r\n    font-size: 30px;\r\n    margin: 20px;\r\n`\r\n\r\nconst Rating = styled.div`\r\n    margin: 10px;\r\n`\r\n\r\nconst Comment = styled.div`\r\n    margin: 10px;\r\n`\r\n\r\n\r\n\r\nconst LocationForm = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst LocationInput = styled.input`\r\n    width: 300px;\r\n    height: 30px;\r\n    margin-right: 10px;\r\n`;\r\n\r\nconst GetLocationButton = styled.button`\r\n    background-color: white;\r\n    color: black;\r\n    border: none;\r\n    padding: 8px 16px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n`;\r\n\r\nfunction MyPage() {\r\n    const [searchResult, setSearchResult] = useState<string>('');\r\n    const [sessionID, setSessionID] = useState<string>('');\r\n    const [userAddress, setUserAddress] = useState<string>('');\r\n    const [userLocation, setUserLocation] = useState<{ x: number, y: number } | null>(null);\r\n    const [searchTerm, setSearchTerm] = useState<string>('');\r\n    const [restaurantData, setRestaurantData] = useState<any[]>([]);\r\n    const [userReviews, setUserReviews] = useState<{ comment: string, rating: number }[]>([]);\r\n\r\n    useEffect(() => {\r\n        const loggedInSessionID = sessionStorage.getItem('sessionID') + ''; // 세션 스토리지에서 세션 아이디 가져오기\r\n        setSessionID(loggedInSessionID);\r\n        getFavoriteData(loggedInSessionID);\r\n        getReviewData(loggedInSessionID);\r\n    }, [])\r\n\r\n    const getFavoriteData = async (sessionID: string) => {\r\n        try {\r\n            const response = await axios.get(`/restaurant/${sessionID}`);\r\n            if (response.data.restaurantData) {\r\n                setRestaurantData(response.data.restaurantData);\r\n            } else {\r\n                console.error('사용자의 즐겨찾기 정보를 가져오는데 실패했습니다.');\r\n            }\r\n        } catch (error) {\r\n            console.error('사용자 즐겨찾기 정보를 가져오는 중 오류가 발생했습니다:', error);\r\n        }\r\n    }\r\n\r\n    const getReviewData = async (sessionID: string) => {\r\n        try {\r\n            const response = await axios.get(`/review/userReviews/${sessionID}`);\r\n            if (response.data.success) {\r\n                setUserReviews(response.data.reviews);\r\n            } else {\r\n                console.error('사용자 리뷰를 가져오는데 실패했습니다.');\r\n            }\r\n        } catch (error) {\r\n            console.error('사용자 리뷰를 가져오는 중 오류가 발생했습니다:', error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <BoxContainer>\r\n            <Title>즐겨 찾는 식당</Title>\r\n            <PlaceContainer>\r\n                {restaurantData.map((restaurant, index) => (\r\n                    <PlaceBox key={index} src={restaurant.img} alt={restaurant.restaurantName} />\r\n                ))}\r\n            </PlaceContainer>\r\n            <Title>나의 리뷰</Title>\r\n            {userReviews.map((review, index) => (\r\n                <ReviewContainer key={index}>\r\n                    <Rating>&#9733; {review.rating}</Rating>\r\n                    <Comment>{review.comment}</Comment>\r\n                </ReviewContainer>\r\n            ))}\r\n        </BoxContainer>\r\n    )\r\n}\r\n\r\nexport default MyPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}