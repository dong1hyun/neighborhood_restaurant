{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import First from\"./First\";import Second from\"./Second\";import Third from\"./Third\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: relative;\\n    width: 100%;\\n    height: 100vh;\\n    overflow: hidden;\\n    margin-bottom: 100px;\\n\"])));const ButtonContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    display: flex;\\n    gap: 10px;\\n    left: 10%;\\n    bottom: 10%;\\n\"])));const Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    border: none;\\n    color: white;\\n    background-color: \",\";\\n    width: 30px;\\n    height: 30px;\\n    border-radius: 100%;\\n\"])),props=>props.isSelected?'rgba(192, 57, 43,1.0)':'rgba(247, 159, 31,1.0)');export default function FoodSlider(){const isLogin=sessionStorage.getItem('sessionID');const Infos=[/*#__PURE__*/_jsx(First,{}),/*#__PURE__*/_jsx(Second,{}),/*#__PURE__*/_jsx(Third,{})];const pageIdx=isLogin?[1,2]:[0,1,2];const[currentIndex,setCurrentIndex]=useState(isLogin?1:0);const[prevInterval,setPrevInterval]=useState();const setSliderTime=()=>setInterval(()=>setCurrentIndex(cur=>cur===2?0:cur+1),4000);const setLoginSliderTime=()=>setInterval(()=>{setCurrentIndex(cur=>{if(cur==0||cur==2)return 1;return cur+1;});},4000);const onClick=idx=>{setCurrentIndex(idx);// clearInterval(prevInterval);\n// if(isLogin) setPrevInterval(setLoginSliderTime()); //로그인시 첫 번째 페이지는 생략\n// else setPrevInterval(setSliderTime());\n};useEffect(()=>{// setPrevInterval(setSliderTime());\n// return () => clearInterval(prevInterval); \n},[]);return/*#__PURE__*/_jsxs(Container,{children:[Infos[currentIndex],/*#__PURE__*/_jsx(ButtonContainer,{children:pageIdx.map(i=>{return/*#__PURE__*/_jsx(Button,{isSelected:i===currentIndex,onClick:()=>onClick(i)},i);})})]});}","map":{"version":3,"names":["React","useEffect","useState","styled","First","Second","Third","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","ButtonContainer","_templateObject2","Button","button","_templateObject3","props","isSelected","FoodSlider","isLogin","sessionStorage","getItem","Infos","pageIdx","currentIndex","setCurrentIndex","prevInterval","setPrevInterval","setSliderTime","setInterval","cur","setLoginSliderTime","onClick","idx","children","map","i"],"sources":["C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/src/components/home/FoodSlider.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport First from \"./First\"\r\nimport Second from \"./Second\";\r\nimport Third from \"./Third\"\r\n\r\nconst Container = styled.div`\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    margin-bottom: 100px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n    position: absolute;\r\n    display: flex;\r\n    gap: 10px;\r\n    left: 10%;\r\n    bottom: 10%;\r\n`;\r\n\r\nconst Button = styled.button<{ isSelected: boolean }>`\r\n    border: none;\r\n    color: white;\r\n    background-color: ${props => props.isSelected ? 'rgba(192, 57, 43,1.0)' : 'rgba(247, 159, 31,1.0)'};\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 100%;\r\n`;\r\n\r\nexport default function FoodSlider() {\r\n    const isLogin = sessionStorage.getItem('sessionID');\r\n    const Infos = [\r\n        <First />,\r\n        <Second />,\r\n        <Third />\r\n    ];\r\n\r\n    const pageIdx = isLogin ? [1, 2] : [0, 1, 2];\r\n    const [currentIndex, setCurrentIndex] = useState(isLogin ? 1 : 0);\r\n    const [prevInterval, setPrevInterval] = useState<NodeJS.Timer>();\r\n\r\n    const setSliderTime = () => setInterval(() => setCurrentIndex(cur => cur === 2 ? 0 : cur + 1), 4000);\r\n    const setLoginSliderTime = () => setInterval(() => {\r\n        setCurrentIndex(cur => {\r\n            if(cur == 0 || cur == 2) return 1;\r\n            return cur + 1;\r\n        })\r\n    }, 4000);\r\n\r\n    const onClick = (idx: number) => {\r\n        setCurrentIndex(idx);\r\n        // clearInterval(prevInterval);\r\n        // if(isLogin) setPrevInterval(setLoginSliderTime()); //로그인시 첫 번째 페이지는 생략\r\n        // else setPrevInterval(setSliderTime());\r\n    };\r\n\r\n    useEffect(() => {\r\n        // setPrevInterval(setSliderTime());\r\n        // return () => clearInterval(prevInterval); \r\n    }, []);\r\n\r\n    return (\r\n        <Container>\r\n            {Infos[currentIndex]}\r\n            <ButtonContainer>\r\n                {pageIdx.map(i => {\r\n                    return (\r\n                    <Button\r\n                        key={i}\r\n                        isSelected={i === currentIndex}\r\n                        onClick={() => onClick(i)}\r\n                    />\r\n                )})}\r\n            </ButtonContainer>\r\n        </Container>\r\n    );\r\n}\r\n"],"mappings":"yNACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,SAAS,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,SAAS,CAAGR,MAAM,CAACS,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,2HAM3B,CAED,KAAM,CAAAC,eAAe,CAAGZ,MAAM,CAACS,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,yGAMjC,CAED,KAAM,CAAAG,MAAM,CAAGd,MAAM,CAACe,MAAM,CAAAC,gBAAA,GAAAA,gBAAA,CAAAL,sBAAA,2IAGJM,KAAK,EAAIA,KAAK,CAACC,UAAU,CAAG,uBAAuB,CAAG,wBAAwB,CAIrG,CAED,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACjC,KAAM,CAAAC,OAAO,CAAGC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,CACnD,KAAM,CAAAC,KAAK,CAAG,cACVlB,IAAA,CAACJ,KAAK,GAAE,CAAC,cACTI,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,CAACF,KAAK,GAAE,CAAC,CACZ,CAED,KAAM,CAAAqB,OAAO,CAAGJ,OAAO,CAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC5C,KAAM,CAACK,YAAY,CAAEC,eAAe,CAAC,CAAG3B,QAAQ,CAACqB,OAAO,CAAG,CAAC,CAAG,CAAC,CAAC,CACjE,KAAM,CAACO,YAAY,CAAEC,eAAe,CAAC,CAAG7B,QAAQ,CAAe,CAAC,CAEhE,KAAM,CAAA8B,aAAa,CAAGA,CAAA,GAAMC,WAAW,CAAC,IAAMJ,eAAe,CAACK,GAAG,EAAIA,GAAG,GAAK,CAAC,CAAG,CAAC,CAAGA,GAAG,CAAG,CAAC,CAAC,CAAE,IAAI,CAAC,CACpG,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAMF,WAAW,CAAC,IAAM,CAC/CJ,eAAe,CAACK,GAAG,EAAI,CACnB,GAAGA,GAAG,EAAI,CAAC,EAAIA,GAAG,EAAI,CAAC,CAAE,MAAO,EAAC,CACjC,MAAO,CAAAA,GAAG,CAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAE,IAAI,CAAC,CAER,KAAM,CAAAE,OAAO,CAAIC,GAAW,EAAK,CAC7BR,eAAe,CAACQ,GAAG,CAAC,CACpB;AACA;AACA;AACJ,CAAC,CAEDpC,SAAS,CAAC,IAAM,CACZ;AACA;AAAA,CACH,CAAE,EAAE,CAAC,CAEN,mBACIS,KAAA,CAACC,SAAS,EAAA2B,QAAA,EACLZ,KAAK,CAACE,YAAY,CAAC,cACpBpB,IAAA,CAACO,eAAe,EAAAuB,QAAA,CACXX,OAAO,CAACY,GAAG,CAACC,CAAC,EAAI,CACd,mBACAhC,IAAA,CAACS,MAAM,EAEHI,UAAU,CAAEmB,CAAC,GAAKZ,YAAa,CAC/BQ,OAAO,CAAEA,CAAA,GAAMA,OAAO,CAACI,CAAC,CAAE,EAFrBA,CAGR,CAAC,CACL,CAAC,CAAC,CACU,CAAC,EACX,CAAC,CAEpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}