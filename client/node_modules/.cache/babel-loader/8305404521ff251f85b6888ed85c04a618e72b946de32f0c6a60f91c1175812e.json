{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useEffect}from'react';import axios from\"axios\";import{useForm}from\"react-hook-form\";import styled from\"styled-components\";import{useRecoilState}from\"recoil\";import{name,session}from\"../atom\";import{FaUser,FaLock}from\"react-icons/fa\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    z-index: 5;\\n    top: 300px;\\n    text-align: center;\\n    width: 400px;\\n    padding: 20px;\\n    background-color: rgba(255, 255, 255, 1);\\n    border-radius: 10px;\\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.2);\\n    margin: auto;\\n    margin-top: 200px;\\n    @media screen and (max-width: 700px) {\\n        width: 80%;\\n    }\\n\"])));const Title=styled.h2(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    margin-bottom: 20px;\\n\"])));const Form=styled.form(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n\"])));const InputWrapper=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    position: relative;\\n    margin-bottom: 15px;\\n\"])));const Icon=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    top: 50%;\\n    left: 10px;\\n    transform: translateY(-50%);\\n\"])));const Input=styled.input(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 40px;\\n    padding: 0 10px 0 40px;\\n    border-radius: 5px;\\n    border: 1px solid #ccc;\\n\"])));const Button=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 40px;\\n    margin-top: 10px;\\n    background-color: #3e3e3e;\\n    color: white;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    &:hover {\\n        background-color: #6a6a6a;\\n    }\\n\"])));const HelpText=styled.p(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    margin-top: 10px;\\n    font-size: 12px;\\n    color: #666;\\n    line-height: 130%;\\n\"])));const Link=styled.a(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    color: #007bff;\\n    text-decoration: none;\\n    &:hover {\\n        text-decoration: underline;\\n    }\\n\"])));export default function Login(){const{register,handleSubmit}=useForm();const[sessionID,setSessionID]=useRecoilState(session);const[nickName,setNickName]=useRecoilState(name);const navigate=useNavigate();const LoginSuccess=async data=>{try{const response=await axios.post('/login',data);const{sessionID,nickName}=response.data;if(response.data.message==='로그인 성공'&&sessionID){setSessionID(sessionID);setNickName(nickName);sessionStorage.setItem('sessionID',sessionID);sessionStorage.setItem('nickName',nickName);alert(\"로그인에 성공했습니다.\");}else{console.error('로그인 실패:',response.data.message);}}catch(error){console.error('로그인 중 오류가 발생했습니다:',error);}};useEffect(()=>{const session=sessionStorage.getItem('sessionID');if(session)navigate(\"/\");},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(LoginSuccess),children:[/*#__PURE__*/_jsxs(InputWrapper,{children:[/*#__PURE__*/_jsx(Icon,{children:/*#__PURE__*/_jsx(FaUser,{})}),/*#__PURE__*/_jsx(Input,{...register(\"id\"),placeholder:\"\\uC544\\uC774\\uB514\"})]}),/*#__PURE__*/_jsxs(InputWrapper,{children:[/*#__PURE__*/_jsx(Icon,{children:/*#__PURE__*/_jsx(FaLock,{})}),/*#__PURE__*/_jsx(Input,{type:\"password\",...register(\"password\"),placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"\\uB85C\\uADF8\\uC778\"})]}),/*#__PURE__*/_jsxs(HelpText,{children:[/*#__PURE__*/_jsx(Link,{href:\"#\",children:\"\\uC544\\uC774\\uB514 / \\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{href:\"/SignIn\",children:\"\\uD68C\\uC6D0 \\uAC00\\uC785\"})]})]});}","map":{"version":3,"names":["React","useEffect","axios","useForm","styled","useRecoilState","name","session","FaUser","FaLock","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Title","h2","_templateObject2","Form","form","_templateObject3","InputWrapper","_templateObject4","Icon","_templateObject5","Input","input","_templateObject6","Button","button","_templateObject7","HelpText","p","_templateObject8","Link","a","_templateObject9","Login","register","handleSubmit","sessionID","setSessionID","nickName","setNickName","navigate","LoginSuccess","data","response","post","message","sessionStorage","setItem","alert","console","error","getItem","children","onSubmit","placeholder","type","href"],"sources":["C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/src/page/Login.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport styled from \"styled-components\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { name, session } from \"../atom\";\r\nimport { FaUser, FaLock } from \"react-icons/fa\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Container = styled.div`\r\n    z-index: 5;\r\n    top: 300px;\r\n    text-align: center;\r\n    width: 400px;\r\n    padding: 20px;\r\n    background-color: rgba(255, 255, 255, 1);\r\n    border-radius: 10px;\r\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.2);\r\n    margin: auto;\r\n    margin-top: 200px;\r\n    @media screen and (max-width: 700px) {\r\n        width: 80%;\r\n    }\r\n`;\r\n\r\nconst Title = styled.h2`\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst InputWrapper = styled.div`\r\n    position: relative;\r\n    margin-bottom: 15px;\r\n`;\r\n\r\nconst Icon = styled.div`\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 10px;\r\n    transform: translateY(-50%);\r\n`;\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    height: 40px;\r\n    padding: 0 10px 0 40px;\r\n    border-radius: 5px;\r\n    border: 1px solid #ccc;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    height: 40px;\r\n    margin-top: 10px;\r\n    background-color: #3e3e3e;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background-color: #6a6a6a;\r\n    }\r\n`;\r\n\r\nconst HelpText = styled.p`\r\n    margin-top: 10px;\r\n    font-size: 12px;\r\n    color: #666;\r\n    line-height: 130%;\r\n`;\r\n\r\nconst Link = styled.a`\r\n    color: #007bff;\r\n    text-decoration: none;\r\n    &:hover {\r\n        text-decoration: underline;\r\n    }\r\n`;\r\n\r\ninterface LoginForm {\r\n    id: string,\r\n    password: string,\r\n}\r\n\r\nexport default function Login() {\r\n    const { register, handleSubmit } = useForm<LoginForm>();\r\n    const [sessionID, setSessionID] = useRecoilState(session);\r\n    const [nickName, setNickName] = useRecoilState(name);\r\n    const navigate = useNavigate()\r\n    const LoginSuccess = async (data: LoginForm) => {\r\n        try {\r\n            const response = await axios.post('/login', data);\r\n            const { sessionID, nickName } = response.data;\r\n            if (response.data.message === '로그인 성공' && sessionID) {\r\n                setSessionID(sessionID);\r\n                setNickName(nickName);\r\n                sessionStorage.setItem('sessionID', sessionID);\r\n                sessionStorage.setItem('nickName', nickName);\r\n                alert(\"로그인에 성공했습니다.\");\r\n            } else {\r\n                console.error('로그인 실패:', response.data.message);\r\n            }\r\n        } catch (error) {\r\n            console.error('로그인 중 오류가 발생했습니다:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const session = sessionStorage.getItem('sessionID');\r\n        if(session) navigate(\"/\");\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            <Title>로그인</Title>\r\n            <Form onSubmit={handleSubmit(LoginSuccess)}>\r\n                <InputWrapper>\r\n                    <Icon>\r\n                        <FaUser />\r\n                    </Icon>\r\n                    <Input {...register(\"id\")} placeholder=\"아이디\" />\r\n                </InputWrapper>\r\n                <InputWrapper>\r\n                    <Icon>\r\n                        <FaLock />\r\n                    </Icon>\r\n                    <Input type=\"password\" {...register(\"password\")} placeholder=\"비밀번호\" />\r\n                </InputWrapper>\r\n                <Button type=\"submit\">로그인</Button>\r\n            </Form>\r\n            <HelpText>\r\n                <Link href=\"#\">아이디 / 비밀번호 찾기</Link>\r\n                <br />\r\n                <Link href=\"/SignIn\">회원 가입</Link>\r\n            </HelpText>\r\n        </Container>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}