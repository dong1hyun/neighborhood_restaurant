{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect}from'react';import axios from'axios';import{motion}from\"framer-motion\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterContainer=styled(motion.div)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    z-index: 1;\\n    top: 300px;\\n    text-align: center;\\n    background-color: whitesmoke;\\n    width: 400px;\\n    height: 200px;\\n    background-color: rgba(255, 255, 255, 1);\\n    border-radius: 40px;\\n    position: absolute;\\n    top: 200px;\\n    left: 0px;\\n    right: 0px;\\n    margin: 0 auto;\\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.06);\\n\"])));const boxVariants={initial:{opacity:0,scale:0},visible:{opacity:1,scale:1},leaving:{opacity:0,scale:0}};export default function RegisterBox(){const[formData,setFormData]=useState({name:'',id:'',password:''});const[searchTerm,setSearchTerm]=useState('');const[searchResult,setSearchResult]=useState(null);const[userLocation,setUserLocation]=useState(null);useEffect(()=>{// 사용자 위치 가져오는 함수 호출\nhandleGetUserLocation();},[]);const handleSubmit=async e=>{e.preventDefault();try{// 서버로 회원가입 데이터 전송\nconst response=await axios.post('/login',{name:formData.name,id:formData.id,password:formData.password,searchResult,// 검색한 주소 정보 전송\nuserLocation// 사용자 위치 정보 전송\n});console.log('Response:',response.data);// 회원가입 성공 처리 코드 추가\n}catch(error){console.error('회원가입 중 오류가 발생했습니다:',error);// 회원가입 실패 처리 코드 추가\n}};const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSearch=async()=>{try{const response=await axios.get(\"https://dapi.kakao.com/v2/local/search/keyword.json?query=\".concat(searchTerm),{headers:{Authorization:\"KakaoAK f1a6ff5fce786c3d0407226bb3e8ec57\"}});if(response.data.documents&&response.data.documents.length>0){const{x,y}=response.data.documents[0];setSearchResult({x,y});}else{console.error('검색 결과를 찾을 수 없습니다.');}}catch(error){console.error('검색 중 오류가 발생했습니다:',error);}};const handleGetUserLocation=()=>{navigator.geolocation.getCurrentPosition(position=>{const{latitude,longitude}=position.coords;setUserLocation({x:longitude,y:latitude});});};return/*#__PURE__*/_jsx(RegisterContainer,{variants:boxVariants,initial:\"initial\",animate:\"visible\",exit:\"leaving\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uC774\\uB984:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uC544\\uC774\\uB514:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:formData.id,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uBE44\\uBC00\\uBC88\\uD638:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"\\uC8FC\\uC18C \\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","axios","motion","styled","jsx","_jsx","jsxs","_jsxs","RegisterContainer","div","_templateObject","_taggedTemplateLiteral","boxVariants","initial","opacity","scale","visible","leaving","RegisterBox","formData","setFormData","name","id","password","searchTerm","setSearchTerm","searchResult","setSearchResult","userLocation","setUserLocation","handleGetUserLocation","handleSubmit","e","preventDefault","response","post","console","log","data","error","handleChange","target","value","handleSearch","get","concat","headers","Authorization","documents","length","x","y","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","variants","animate","exit","children","onSubmit","type","onChange","onClick"],"sources":["C:/Users/user/Documents/GitHub/neighborhood_restaurant/client/src/components/RegisterBox.tsx"],"sourcesContent":["import React, { useState, ChangeEvent, FormEvent, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { AnimatePresence, motion } from \"framer-motion\"\r\nimport styled from \"styled-components\"\r\n\r\nconst RegisterContainer = styled(motion.div)`\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 300px;\r\n    text-align: center;\r\n    background-color: whitesmoke;\r\n    width: 400px;\r\n    height: 200px;\r\n    background-color: rgba(255, 255, 255, 1);\r\n    border-radius: 40px;\r\n    position: absolute;\r\n    top: 200px;\r\n    left: 0px;\r\n    right: 0px;\r\n    margin: 0 auto;\r\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.06);\r\n`\r\n\r\nconst boxVariants = {\r\n    initial: {\r\n        opacity: 0,\r\n        scale: 0\r\n    },\r\n    visible: {\r\n        opacity: 1,\r\n        scale: 1\r\n    },\r\n    leaving: {\r\n        opacity: 0,\r\n        scale: 0\r\n    }\r\n}\r\n\r\nexport default function RegisterBox() {\r\n    const [formData, setFormData] = useState({ name: '', id: '', password: '' });\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [searchResult, setSearchResult] = useState<{ x: number, y: number } | null>(null);\r\n    const [userLocation, setUserLocation] = useState<{ x: number, y: number } | null>(null);\r\n\r\n    useEffect(() => {\r\n        // 사용자 위치 가져오는 함수 호출\r\n        handleGetUserLocation();\r\n    }, []);\r\n\r\n    const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            // 서버로 회원가입 데이터 전송\r\n            const response = await axios.post('/login', {\r\n                name: formData.name,\r\n                id: formData.id,\r\n                password: formData.password,\r\n                searchResult, // 검색한 주소 정보 전송\r\n                userLocation // 사용자 위치 정보 전송\r\n            });\r\n            console.log('Response:', response.data);\r\n            // 회원가입 성공 처리 코드 추가\r\n        } catch (error) {\r\n            console.error('회원가입 중 오류가 발생했습니다:', error);\r\n            // 회원가입 실패 처리 코드 추가\r\n        }\r\n    };\r\n\r\n    const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSearch = async () => {\r\n        try {\r\n            const response = await axios.get(`https://dapi.kakao.com/v2/local/search/keyword.json?query=${searchTerm}`, {\r\n                headers: {\r\n                    Authorization: \"KakaoAK f1a6ff5fce786c3d0407226bb3e8ec57\"\r\n                }\r\n            });\r\n            if (response.data.documents && response.data.documents.length > 0) {\r\n                const { x, y } = response.data.documents[0];\r\n                setSearchResult({ x, y });\r\n            } else {\r\n                console.error('검색 결과를 찾을 수 없습니다.');\r\n            }\r\n        } catch (error) {\r\n            console.error('검색 중 오류가 발생했습니다:', error);\r\n        }\r\n    };\r\n\r\n    const handleGetUserLocation = () => {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            const { latitude, longitude } = position.coords;\r\n            setUserLocation({ x: longitude, y: latitude });\r\n        });\r\n    };\r\n\r\n    return (\r\n        <RegisterContainer\r\n            variants={boxVariants}\r\n            initial=\"initial\"\r\n            animate=\"visible\"\r\n            exit=\"leaving\"\r\n        >\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    이름:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={formData.name}\r\n                        onChange={handleChange}\r\n                    />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                    아이디:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"id\"\r\n                        value={formData.id}\r\n                        onChange={handleChange}\r\n                    />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                    비밀번호:\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        value={formData.password}\r\n                        onChange={handleChange}\r\n                    />\r\n                </label>\r\n                <br />\r\n                {/* 주소 검색 입력란 */}\r\n                <input\r\n                    type=\"text\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n                <button onClick={handleSearch}>주소 검색</button>\r\n                <br />\r\n                <button type=\"submit\">회원가입</button>\r\n            </form>\r\n        </RegisterContainer>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}